import sys
import pygame
from pygame import*

class Entrada():

    def __init__(self,):
        self.lineas = 0
        self.caracteres = ['',]
        self.fuente = pygame.font.Font(None,25)

        self.distancia =20
        self.posX = 50
        self.posY = 50
    def teclas(self,evento):
        for action in evento:
            if action.type == KEYDOWN:
                if action.key == K_RETURN:
                    self.caracteres.append('')
                    self.lineas += 1
                elif action.key == K_ESCAPE :
                    sys.exit()
                elif action.key == K_BACKSPACE:
                    if self.caracteres[self.lineas]== '' and self.lineas > 0:
                        self.caracteres = self.caracteres[0:-1]
                        self.lineas -=1
                    else:
                        self.caracteres[self.caracteres] = self.caracteres[self.lineas][0:-1]
                else:
                     self.caracteres[self.lineas] = str(self.caracteres[self.lineas] + action.unicode)

    def mensaje(self,superficie):
        superficie.fill((0,0,0))
        for self.lineas in range(len(self.caracteres)):
            Img_letra = self.fuente.render(self.caracteres[self.lineas],True,(200,200,200))

        superficie.blit(Img_letra,(self.posX,self.posY + self.distancia*self.lineas))

def main():
    pygame.init()
    pantalla = pygame.display.set_mode((903,542),0,32)
    pygame.display.set_caption("<-- PALINDROMO PAR --")
    escritura = Entrada()

    while True:
        eventos = pygame.event.get()
        for eventos in pygame.event.get():
            if eventos.type == pygame.QUIT:
                exit()

        escritura.teclas(eventos)
        escritura.mensaje(pantalla)
        pygame.display.update()


main()

